<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Case Study: Using letsRept to harmonize reptile species nomenclature ‚Ä¢ letsRept</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Case Study: Using letsRept to harmonize reptile species nomenclature">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">letsRept</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/letsRept.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/case-study.html">Case Study: Using letsRept to harmonize reptile species nomenclature</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/joao-svalencar/letsRept/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Case Study: Using letsRept to harmonize reptile
species nomenclature</h1>
                        <h4 data-toc-skip class="author">Jo√£o Paulo dos
Santos Vieira-Alencar</h4>
            
            <h4 data-toc-skip class="date">2025-10-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/joao-svalencar/letsRept/blob/HEAD/vignettes/case-study.Rmd" class="external-link"><code>vignettes/case-study.Rmd</code></a></small>
      <div class="hidden name"><code>case-study.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="updating-nomenclature-with-letsrept">Updating nomenclature with letsRept<a class="anchor" aria-label="anchor" href="#updating-nomenclature-with-letsrept"></a>
</h2>
<p>This article is dedicated to simulate a follow up, step-by-step of
the case study presented in <a href="https://journals.ku.edu/jbi/article/view/24329" class="external-link">Vieira-Alencar et
al.¬†(2025)</a>.</p>
<p>The data used in the examples are referenced and publicly available.
A full repository dedicated for the paper reproducibility is accessible
via: <a href="https://doi.org/10.5281/zenodo.16895979" class="external-link uri">https://doi.org/10.5281/zenodo.16895979</a>. Download the
repo and execute the .Rproj file to keep the same code structure as
shown herein.</p>
<p>I recommend installing the development version directly from GitHub,
but a stable version is available on CRAN. Package <code>here</code> and
<code>parallel</code> are suggested to follow this tutorial.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#devtools::install_github("joao-svalencar/letsRept", ref="main", force=TRUE)</span></span>
<span><span class="co">#install.packages("here")</span></span>
<span><span class="co">#install.packages("parallel")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joao-svalencar/letsRept" class="external-link">letsRept</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## letsRept 1.1.0 loaded ü¶é üêç üêä üê¢</span></span>
<span><span class="co">## Please cite both letsRept and The Reptile Database when using this package.</span></span>
<span><span class="co">## Run citation("letsRept") for details.</span></span></code></pre>
<p>If you downloaded the repository and executed the .Rproj, then to
load the example dataset from <a href="https://doi.org/10.2994/SAJH-D-19-00120.1" class="external-link">Nogueira et
al.¬†(2019)</a> run:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load Nogueira et al., (2019) Supp. Mat. Table S3 (georeferenced type localities)</span></span>
<span><span class="va">atlas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"atlas.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, the same dataset is available within the package and
to load it run:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atlas</span> <span class="op">&lt;-</span> <span class="fu">letsRept</span><span class="fu">::</span><span class="va"><a href="../reference/br_snakes_atlas.html">br_snakes_atlas</a></span></span></code></pre></div>
<p>In the manuscript, to introduce readers to some of the main functions
of <em>letsRept</em> we showed an example of how to subset the Reptile
Database to get taxonomic information from a given group, in a given
region.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">link</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptAdvancedSearch.html">reptAdvancedSearch</a></span><span class="op">(</span>location <span class="op">=</span> <span class="st">"Brazil"</span>, higher <span class="op">=</span> <span class="st">"snakes"</span><span class="op">)</span></span>
<span><span class="va">snakes_br</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptSpecies.html">reptSpecies</a></span><span class="op">(</span><span class="va">link</span>, taxonomicInfo <span class="op">=</span> <span class="cn">TRUE</span>, cores <span class="op">=</span> <span class="op">(</span><span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">snakes_br</span><span class="op">)</span></span></code></pre></div>
<p>But for nomenclature update using the internal data
<code>allReptiles</code> you can just run <code>reptCompare</code>
without a second argument:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">compare</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptCompare.html">reptCompare</a></span><span class="op">(</span><span class="va">atlas</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">compare</span><span class="op">$</span><span class="va">status</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="to-review-unmatched-nomenclature">To review unmatched nomenclature:<a class="anchor" aria-label="anchor" href="#to-review-unmatched-nomenclature"></a>
</h3>
<p>The basic update that most other tools provide will just try to
detect the current name for unmatched entries. To start with these cases
we subset the database filtering only for the species that doesn‚Äôt match
the Reptile Database nomenclature:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">review</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptCompare.html">reptCompare</a></span><span class="op">(</span><span class="va">atlas</span><span class="op">$</span><span class="va">species</span>, <span class="va">snakes_br</span><span class="op">$</span><span class="va">species</span>, filter <span class="op">=</span> <span class="st">"review"</span><span class="op">)</span> <span class="co">#38 unmatched names </span></span></code></pre></div>
<p>Now, to verify the suggestions of current nomenclature we parse these
names to <code>reptSync</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sync</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptSync.html">reptSync</a></span><span class="op">(</span><span class="va">review</span>, solveAmbiguity <span class="op">=</span> <span class="cn">TRUE</span>, cores <span class="op">=</span> <span class="op">(</span><span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sync</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sync</span><span class="op">$</span><span class="va">status</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="center">ambiguous</th>
<th align="center">merge</th>
<th align="center">updated</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">3</td>
<td align="center">2</td>
<td align="center">33</td>
</tr></tbody>
</table>
<p>Alright, now we know that most species names could be unambiguously
updated but we do have 3 cases of ambiguous nomenclature and 2 cases of
species that should me merged, possibly because of species lumping.
Let‚Äôs see who they are in a tidy way:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptTidySyn.html">reptTidySyn</a></span><span class="op">(</span><span class="va">sync</span>, filter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"merge"</span>, <span class="st">"ambiguous"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>For <em>Corallus hortulanus</em> two options emerged, <em>Corallus
cookii</em> and <em>Corallus hortulana</em>.</p>
<p>Although it can be quite straightforward for some users
(e.g.¬†familiar with the studied species), to be able to decide which
name is the most appropriate to use in our study we might need to check
extra information.</p>
<p>Let‚Äôs give a look in their accounts:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Corallus cookii"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Corallus hortulana"</span><span class="op">)</span></span></code></pre></div>
<p>Carefully evaluating the species synonyms entry we can verify that
‚Äú<em>Corallus hortulanus</em>‚Äù is a true synonym only of <em>Corallus
hortulana}</em>. In <em>Corallus cookii</em> account the name
<em>Corallus hortulanus</em> is considered only a chresonym (identified
with an emdash between the name and the reference). Besides that,
<em>Corallus cookii</em> has never been recorded in Brazil (see
Distribution). Therefore the most likely correct name for <em>Corallus
hortulanus</em> is now <em>Corallus hortulana</em>. Users can manually
change the nomenclature in their datasets or can optionally substitute
the name in the <code>reptSync</code> output:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sync</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">syncl</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Corallus hortulanus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Corallus hortulana"</span> <span class="co">#choosing name to keep from RDB</span></span>
<span><span class="va">sync</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">sync</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Corallus hortulanus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"updated"</span> <span class="co">#changing the name status</span></span></code></pre></div>
<p>A similar rationale can be used for the remaining species.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Adelphostigma occipitalis"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Adelphostigma quadriocellata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Eutrachelophis papilio"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sync</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">sync</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Taeniophallus occipitalis"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Adelphostigma occipitalis"</span></span>
<span><span class="va">sync</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">sync</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Taeniophallus occipitalis"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"updated"</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Tachymenis ocellata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Tachymenis trigonatus"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sync</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">sync</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Tomodon ocellatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Tachymenis ocellata"</span></span>
<span><span class="va">sync</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">sync</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Tomodon ocellatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"updated"</span></span></code></pre></div>
<p>With all done in object <code>sync</code> we only have to fix the
entry of the <em>Liotyplhops</em> species, but let‚Äôs wait for the next
steps.</p>
</div>
<div class="section level3">
<h3 id="to-check-for-taxonomic-splitting">To check for taxonomic splitting:<a class="anchor" aria-label="anchor" href="#to-check-for-taxonomic-splitting"></a>
</h3>
<p>One of the main functions in <em>letsRept</em> is
<code>reptSplitCheck</code>. This function allows to check the species
with matched nomenclature for the possibility of being split after a
user defined date. If no date is provided, the function will use
<code>1758</code> as a reference and every single species described from
which the queried names are synonyms/chresonyms will show up.</p>
<p>But attention here. Run:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#example 1</span></span>
<span><span class="fu"><a href="../reference/reptTidySyn.html">reptTidySyn</a></span><span class="op">(</span><span class="fu"><a href="../reference/reptSplitCheck.html">reptSplitCheck</a></span><span class="op">(</span><span class="st">"Boa constrictor"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Then run:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#example 2</span></span>
<span><span class="fu"><a href="../reference/reptTidySyn.html">reptTidySyn</a></span><span class="op">(</span><span class="fu"><a href="../reference/reptSplitCheck.html">reptSplitCheck</a></span><span class="op">(</span><span class="st">"Boa constrictor"</span>, exact <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Function <code>reptSplitCheck</code> parses the binomials provided to
<code>reptAdvancedSearch(synonyms = binomial)</code>. The algorithm of
Reptile Database allows users to query exact searches by using quotes
around the names provided. When not between quotes, the search will
return species with anything from the synonym/chresonym section that
matches ‚ÄúBoa‚Äù or ‚Äúconstrictor‚Äù. That is why <em>Acrantophis
dumerili</em>, <em>Malayopython reticulatus</em> and <em>Simalia
amethistina</em> are returned from example chunk #1 and not from #2. It
matters because some newly described species might have been associated
with a valid name with, for example a <code>cf.</code> or
<code>aff.</code> notation and will not show up if a exact match is
queried:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#example 3</span></span>
<span><span class="fu"><a href="../reference/reptTidySyn.html">reptTidySyn</a></span><span class="op">(</span><span class="fu"><a href="../reference/reptSplitCheck.html">reptSplitCheck</a></span><span class="op">(</span><span class="st">"Tantilla melanocephala"</span>, exact <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#example 4</span></span>
<span><span class="fu"><a href="../reference/reptTidySyn.html">reptTidySyn</a></span><span class="op">(</span><span class="fu"><a href="../reference/reptSplitCheck.html">reptSplitCheck</a></span><span class="op">(</span><span class="st">"Tantilla melanocephala"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>As we knew that some localities reported for <em>Tantilla
melanocephala</em> in <a href="https://doi.org/10.2994/SAJH-D-19-00120.1" class="external-link">Nogueira et
al.¬†(2019)</a> are now attributed to <em>Tantilla selmae</em>, we knew
that using and exact match would exclude the latter from our output. At
the same time, without the exact match some species not related to our
query might show up (example #1). To avoid missing other similar (but
unknown) possibilities I decided to proceed without the exact match
filter. This decision has to be made considering the balance of checking
all split possibilities (even not meaninful ones) and taxonomic
exactness. With <em>letsRept</em> it is not too hard to check all
possibilities in most cases.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">matched</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptCompare.html">reptCompare</a></span><span class="op">(</span><span class="va">atlas</span><span class="op">$</span><span class="va">species</span>, <span class="va">snakes_br</span>, filter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"matched"</span>, <span class="st">"absent"</span><span class="op">)</span><span class="op">)</span> <span class="co">#372 unmatched names + 1 absent</span></span>
<span></span>
<span><span class="va">split_check</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptSplitCheck.html">reptSplitCheck</a></span><span class="op">(</span><span class="va">matched</span>, pubDate <span class="op">=</span> <span class="fl">2019</span>, cores <span class="op">=</span> <span class="op">(</span><span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Sometimes, if the internet connection is slow or if the Reptile
Database server does not respond, a queried species might not be
retrieved and it will receive the status ‚Äúfailed‚Äù, so it is important to
check all statuses before continuing:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="center">check_split</th>
<th align="center">up_to_date</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">19</td>
<td align="center">354</td>
</tr></tbody>
</table>
<p>If your <code>split_check</code> object has any ‚Äúfailed‚Äù species you
might want to query them again. You can filter them out and re-run the
query using:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">split_failed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reptSplitCheck.html">reptSplitCheck</a></span><span class="op">(</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="st">"failed"</span><span class="op">]</span>, pubDate <span class="op">=</span> <span class="fl">2019</span>, cores <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="co">#select and run</span></span>
<span><span class="va">split_check</span> <span class="op">&lt;-</span> <span class="va">split_check</span><span class="op">[</span><span class="op">!</span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="st">"failed"</span>,<span class="op">]</span> <span class="co">#remove the failed</span></span>
<span><span class="va">split_check</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">split_check</span>, <span class="va">split_failed</span><span class="op">)</span> <span class="co">#add the species previously failed</span></span>
<span><span class="va">split_check</span> <span class="op">&lt;-</span> <span class="va">split_check</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">)</span>,<span class="op">]</span> <span class="co">#Optional: reorder species names</span></span></code></pre></div>
<p>Using <code>reptTidySyn</code> again to verify the species of
interest:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptTidySyn.html">reptTidySyn</a></span><span class="op">(</span><span class="va">split_check</span>, filter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"check_split"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>An approach to the applied to ‚Äúreview‚Äù species can be used here:
‚Äúsearch‚Äù, ‚Äúdecide‚Äù, ‚Äúupdate‚Äù</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Atractus</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Atractus akerios"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Atractus nawa"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Atractus ukupacha"</span><span class="op">)</span></span></code></pre></div>
<p>For the purpose of simplicity, consider that we have decided how to
split/get the data and want to add <em>A. akerios</em> and <em>A.
nawa</em> to our species list and that we won‚Äôt add <em>Atractus
ukupacha</em> because it is not known to occur in Brazil:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Atractus badius"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Atractus badius"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Atractus badius"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Atractus major"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Atractus major"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Atractus major"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Atractus snethlageae"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Atractus snethlageae"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Atractus snethlageae"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Atractus akerios"</span>, <span class="st">"Atractus nawa"</span><span class="op">)</span>,</span>
<span>                    RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Atractus akerios"</span>, <span class="st">"Atractus nawa"</span><span class="op">)</span>,</span>
<span>                    status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span></span>
<span>      </span></code></pre></div>
<p>To keep the workflow I will just pretend that only checking if the
species occurs in Brazil is enough to add them to our list as if we got
the their data managed properly:</p>
<p><em>Chironius:</em></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Chironius dracomaris"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Chironius gouveai"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Chironius nigelnoriegai"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Chironius bicarinatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Chironius bicarinatus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Chironius bicarinatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Chironius carinatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Chironius carinatus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Chironius carinatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Chironius fuscus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Chironius fuscus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Chironius fuscus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chironius dracomaris"</span>, <span class="st">"Chironius gouveai"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chironius dracomaris"</span>, <span class="st">"Chironius gouveai"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Oxybelis:</em></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Oxybelis inkaterra"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Oxybelis koehleri"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Oxybelis rutherfordi"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Oxybelis aeneus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Oxybelis aeneus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Oxybelis aeneus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span></code></pre></div>
<p><em>Bothrocophias:</em></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Bothrocophias myrringae"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Bothrocophias tulitoi"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrocophias microphthalmus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Bothrocophias microphthalmus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrocophias microphthalmus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span></code></pre></div>
<p><em>Bothrops:</em></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Bothrops oligobalius"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Bothrops monsignifer"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Bothrops sonene"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrops brazili"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Bothrops brazili"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrops brazili"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrops mattogrossensis"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Bothrops mattogrossensis"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrops mattogrossensis"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrops neuwiedi"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Bothrops neuwiedi"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Bothrops neuwiedi"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bothrops oligobalius"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bothrops oligobalius"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Erythrolamprus:</em></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Erythrolamprus aenigma"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Erythrolamprus pseudoreginae"</span><span class="op">)</span> <span class="co">#not in Brazil</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Erythrolamprus poecilogyrus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Erythrolamprus poecilogyrus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Erythrolamprus poecilogyrus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Erythrolamprus reginae"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Erythrolamprus reginae"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Erythrolamprus reginae"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Erythrolamprus aenigma"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Erythrolamprus aenigma"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Helicops:</em></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Helicops phantasma"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Helicops leopardinus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Helicops leopardinus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Helicops leopardinus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Helicops phantasma"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Helicops phantasma"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Leptophis:</em></p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Leptophis ahaetulla"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Leptophis ahaetulla"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Leptophis ahaetulla"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Leptophis ahaetulla"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Leptophis mystacinus"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Leptophis mystacinus"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Micrurus:</em></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Micrurus anibal"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Micrurus ibiboboca"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Micrurus ibiboboca"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Micrurus ibiboboca"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Micrurus lemniscatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Micrurus lemniscatus"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Micrurus lemniscatus"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Micrurus anibal"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Micrurus anibal"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Taeniophallus:</em></p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Chlorosoma dunupyana"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Taeniophallus brevirostris"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Taeniophallus brevirostris"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Taeniophallus brevirostris"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chlorosoma dunupyana"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chlorosoma dunupyana"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Tantilla:</em></p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptSearch.html">reptSearch</a></span><span class="op">(</span><span class="st">"Tantilla selmae"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">RDB</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Tantilla melanocephala"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Tantilla melanocephala"</span></span>
<span><span class="va">split_check</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">split_check</span><span class="op">$</span><span class="va">query</span><span class="op">==</span><span class="st">"Tantilla melanocephala"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span></span>
<span></span>
<span><span class="va">toAdd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toAdd</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tantilla selmae"</span><span class="op">)</span>,</span>
<span>                      RDB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tantilla selmae"</span><span class="op">)</span>,</span>
<span>                      status <span class="op">=</span> <span class="st">"split_added"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>At this point we have no other species to check for taxonomic split
and a data frame with 11 new species to add to our initial list.
Obviously, these species could have been added to the list before
nomenclature harmonization, yet <code>reptSplitCheck</code> will at
least suggest users to check their data as parts of it should no longer
be attributed to the ‚Äúsplit species‚Äù. That is the case, for example, of
<em>Tantilla melanocephala</em> and the <em>Chironius</em>.</p>
<p>At this point we got two objects: <code>sync</code> and
<code>split_check</code> with the original queried names and the current
names according to the Reptile Database. Combining them should return a
unique data frame with all 411 queried species:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atlas_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">split_check</span>, <span class="va">sync</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">status</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="center">merge</th>
<th align="center">up_to_date</th>
<th align="center">updated</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">2</td>
<td align="center">373</td>
<td align="center">36</td>
</tr></tbody>
</table>
<p>And we have object <code>toAdd</code> with the 11 new species we
detected as taxonomic split from our queried, but we will combine them
latter.</p>
<p>Now, from the 38 reviewed species many had automated nomenclature
update. They could have been synonymized with some of the matched names,
such as the <em>Liotyphlops</em> case we detected before. To verify if
any other species were synonymized we have to check the column
<code>RDB</code> for duplicates:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atlas_new</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span><span class="op">)</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span>, fromLast <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,<span class="op">]</span></span></code></pre></div>
<p>With that we detect that all species with status ‚Äúupdated‚Äù were also
considered junior synonyms of the ‚Äúup_to_date‚Äù species. The
straightforward decision here is to ‚Äúmerge‚Äù their data to those of the
senior synonyms. Let‚Äôs pretend this is all already done and now we just
have to remove their names from the updated dataset. Just to make
everything clear I will first change their status to ‚Äúmerge‚Äù</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atlas_new</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span><span class="op">)</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span>, fromLast <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,<span class="op">]</span><span class="op">$</span><span class="va">status</span> <span class="op">&lt;-</span> <span class="st">"merge"</span></span>
<span></span>
<span><span class="va">atlas_new</span><span class="op">[</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="st">"merge"</span>,<span class="op">]</span></span></code></pre></div>
<p>And now we remove the eight species with status ‚Äúmerge‚Äù where the
<code>query</code> is different from <code>RDB</code> (e.g.¬†updated
nomenclature/junior synonyms):</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atlas_new</span><span class="op">[</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">query</span><span class="op">!=</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span> <span class="op">&amp;</span> <span class="va">atlas_new</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="st">"merge"</span>,<span class="op">]</span> <span class="co">#checking the entries to remove</span></span>
<span></span>
<span><span class="va">atlas_new</span> <span class="op">&lt;-</span> <span class="va">atlas_new</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">query</span><span class="op">!=</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span> <span class="op">&amp;</span> <span class="va">atlas_new</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="st">"merge"</span><span class="op">)</span>,<span class="op">]</span> <span class="co">#removing from the dataset</span></span>
<span></span>
<span><span class="va">atlas_new</span><span class="op">$</span><span class="va">status</span><span class="op">[</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="st">"merge"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"up_to_date"</span> <span class="co">#returning the original status to the valid names</span></span></code></pre></div>
<p>Attention here! If you have a large dataset you might not want to
remove these entries prior to merging the new nomenclature with the
dataset itself. The column used to merge would be the
<code>query</code>, if you remove these entries you will just have to be
careful using <code>merge</code>.</p>
<p>Our dataset has 403 species now, but we still have to add the species
from ‚ÄútoAdd‚Äù detected with <code>reptSplitCheck</code>:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atlas_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">atlas_new</span>, <span class="va">toAdd</span><span class="op">)</span></span>
<span></span>
<span><span class="va">atlas_new</span> <span class="op">&lt;-</span> <span class="va">atlas_new</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">query</span><span class="op">)</span>,<span class="op">]</span> <span class="co">#Optional: reorder species names</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">status</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="center">split_added</th>
<th align="center">up_to_date</th>
<th align="center">updated</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">11</td>
<td align="center">373</td>
<td align="center">30</td>
</tr></tbody>
</table>
<p>Final check for duplicated names in the updated nomenclature:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In terms of nomenclature update, considering that all data management
were also accounted for, we are done. But, let‚Äôs say that we are
interested in verifying which are the other snakes species that occur in
Brazil according to the Reptile Database. To do so we can again use
<code>reptCompare</code>, but with the <code>compareDataset</code>
argument:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptCompare.html">reptCompare</a></span><span class="op">(</span><span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span>, <span class="va">br_snakes</span>, compareDataset <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>This will show which species are in <code>br_snakes</code> but are
not in <code>atlas_new</code>, revealing 37 species that according to
the RDB should be added to our distribution database. But that is
another story. Now, if we want to check the opposite: which species are
in <code>atlas_new</code> but are not in <code>br_snakes</code>, we can
just change the objects position in <code>reptCompare</code>:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reptCompare.html">reptCompare</a></span><span class="op">(</span><span class="va">br_snakes</span>, <span class="va">atlas_new</span><span class="op">$</span><span class="va">RDB</span>, compareDataset <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>And that will again show <em>Apostolepis ambiniger</em> as in the
very first comparison in this tutorial in which it received the status
‚Äúabsent‚Äù.</p>
<p>Providing that nomenclature is harmonized in both datasets
<code>reptCompare</code> will be useful to highlight discrepancies.</p>
<p>That is all for this tutorial. I hope it helped to comprehend a
little better how the package works in terms of harmonizing nomenclature
using the Reptile Database as a reference.</p>
</div>
<div class="section level3">
<h3 id="references">
<strong>References</strong><a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>Nogueira, C. C., Arg√¥lo, A. J. S., Arzamendia, V., Azevedo, J. A. R.,
Barbo, F. E., B√©rnils, R. S., ‚Ä¶ &amp; Martins, M. (2019). Atlas of
Brazilian Snakes: Verified Point-Locality Maps to Mitigate the Wallacean
Shortfall in a Megadiverse Snake Fauna. <em>South American Journal of
Herpetology</em>, 14(sp1), 1‚Äì274. <a href="http://dx.doi.org/10.2994/sajh-d-19-00120.1" class="external-link uri">http://dx.doi.org/10.2994/sajh-d-19-00120.1</a></p>
<p>Uetz, P., Freed, P, Aguilar, R., Reyes, F., Kudera, J. &amp; Ho≈°ek,
J. (eds.) (2025). <a href="http://www.reptile-database.org" class="external-link">The Reptile
Database</a></p>
<p>Vieira-Alencar, J. P. S., Liedtke, H. C., Meiri, S., Roll, U., Uetz,
P., Nori, J. (2025). ‚Äú<em>letsRept</em>: An R Package to Access the
Global Reptile Database and Facilitate Taxonomic Harmonization.‚Äù
<em>Biodiversity Informatics</em>, 19, 120-143. <a href="https://doi.org/10.17161/bi.v19i.24329" class="external-link uri">https://doi.org/10.17161/bi.v19i.24329</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jo√£o Paulo dos Santos Vieira-Alencar, Christoph Liedtke.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
